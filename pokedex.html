<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
</head>
<body>
    <div></div>
    <script>
        const drawPokemons = (objData) => { // que son los parametros en una funcion js?
            if(objData) { // validar siempre la informacion
                /* for(let int = 0; int < objData.lenght; int ++) {
                    const detail = objData[int];
                }
                for(const k in objData) {
                    const detail = objData[k];
                } */
               let intNumero = 1;
                objData.map(detail => {
                    const nombrePokemon = detail.name;
                    const numero = intNumero;
                    let peso = 'No tiene';
                    let tipos = 'No tiene';
                    let habilidades = 'No tiene';
                    let img = '';
                    let puntosBase = 0;


                    intNumero = intNumero + 1;

                    if(detail?.weight) {
                        peso = detail.weight;
                    }

                    if(detail?.types) {
                        tipos = '';
                        detail['types'].map(detailTypes => {
                            tipos = tipos + ', ' +detailTypes.type.name
                        });               
                    }
                    
                    if(detail?.abilities) {
                        habilidades = '';
                        detail['abilities'].map(detailAblities => {
                            habilidades = habilidades + ', ' +detailAblities.ability.name
                        });
                    }

                    if(detail?.sprites) {
                        img = detail.sprites.front_shiny;
                    }

                    if(detail?.base_experience) {
                        puntosBase = detail.base_experience;           
                    }
                    
                   console.log(nombrePokemon, numero, peso, tipos, habilidades, img, puntosBase);
                 
                    
                });
            }
        };

        // por que existe el async - await en js
        const getFile = async () => { // arrow function
            const data = await fetch('pokemones.json');
            let arr = [];
            try {
                arr = await data.json();
            } catch(error) {
                arr = [];
            }

            // averiguar los estados que responden los servidores
            // 200, 400, 500
            if(arr?.status == 200){ // que son operadores ternarios en js
                drawPokemons(arr?.results);
            }
        };

        getFile();
    </script>
</body>
</html>